(function() {

"use strict";

var BitriseWorkflowEditor = angular.module("BitriseWorkflowEditor", [
	"ngRoute",
	"ngSanitize",
	"ngAnimate"
]);

BitriseWorkflowEditor.config(function($compileProvider) {
	$compileProvider.debugInfoEnabled(false);
});

BitriseWorkflowEditor.config(function($animateProvider) {
	$animateProvider.classNameFilter(/angular-animated/);
});

BitriseWorkflowEditor.config(function($locationProvider) {
	$locationProvider.html5Mode(true);
});

BitriseWorkflowEditor.config(function($routeProvider) {

	$routeProvider.when("", {
		redirectTo: "<%= endpoint_path(data[:routes][:endpoints][:editor]) %>"
	});

	$routeProvider.when("/", {
		redirectTo: "<%= endpoint_path(data[:routes][:endpoints][:editor]) %>"
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:editor]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:editor]) %>"
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:code_signing]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:code_signing]) %>"
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:secrets]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:secrets]) %>",
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:app_env_vars]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:app_env_vars]) %>",
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:triggers]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:triggers]) %>",
	});

	$routeProvider.when("<%= endpoint_path(data[:routes][:endpoints][:yml]) %>", {
		templateUrl: "<%= template_path(data[:routes][:templates][:yml]) %>"
	});


	$routeProvider.otherwise("", {
		redirectTo: "<%= endpoint_path(data[:routes][:endpoints][:editor]) %>"
	});

});

})();
