"use strict";

angular.module("BitriseWorkflowEditor").filter("wildcardVersions", ["stepSourceService", function(stepSourceService) {
    var shouldInsertLatest = function(step) {
        return step.isLibraryStep();
    };

    return function(step) {
        var baseVersion = shouldInsertLatest(step) ? [null, step.version] : [step.version];
        var wildcardVersions = stepSourceService.versionsOfStep(step);

        return _.union(baseVersion, wildcardVersions);
    };
}]);
