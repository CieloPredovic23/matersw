(function() {

"use strict";

angular.module("BitriseWorkflowEditor").service("stringService", function() {

	var stringService = {};

	stringService.stringReplacedWithParameters = function(string, parameters) {
		_.each(parameters, function(aValue, aKey) {
			var regexpForParameter = new RegExp("([^\<]*)\<" + aKey + "\>(.*)")

			string = string.replace(regexpForParameter, "$1" + aValue + "$2");
		});

		return string;
	};

	stringService.isStringMatchingFilter = function(string, filter) {
		if (string === undefined || filter === undefined) {
			return undefined
		}

		if (filter.length == 0) {
			return true;
		}

		return string.toLowerCase().indexOf(filter.toLowerCase()) != -1;
	};

	return stringService;

});

})();
